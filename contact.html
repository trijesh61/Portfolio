<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Trijesh Kondapuram</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="navbar">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">TK</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="projects.html">Projects</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="certifications.html">Certifications</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="resume.html">Resume</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="contact.html">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header py-5">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <h1 class="page-title">Get In Touch</h1>
                    <p class="page-subtitle">Let's connect and discuss opportunities</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section py-5">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center mb-5">
                    <h2 class="section-title">Contact Me</h2>
                    <div class="section-divider"></div>
                    <p class="lead">I'm always open to discussing new opportunities, interesting projects, or just having a chat about data science and technology.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 col-md-8 mx-auto">
                    <div class="contact-form-container">
                        <h4 class="mb-4 text-center">Send Me a Message</h4>
                        <form class="contact-form" id="contactForm">
                            <div class="mb-3">
                                <label for="name" class="form-label">Your Name *</label>
                                <input type="text" class="form-control" id="name" name="name" placeholder="Enter your name" required>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Your Email *</label>
                                <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email" required>
                            </div>
                            <div class="mb-3">
                                <label for="subject" class="form-label">Subject</label>
                                <input type="text" class="form-control" id="subject" name="subject" placeholder="Enter subject">
                            </div>
                            <div class="mb-3">
                                <label for="message" class="form-label">Message *</label>
                                <textarea class="form-control" id="message" name="message" rows="5" placeholder="Enter your message" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">
                                <i class="fas fa-paper-plane me-2"></i>Send Message
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    

    <!-- Contact Quick Cards Band (Bottom) 
    <section class="contact-band py-5">
        <div class="container">
            <div class="row justify-content-center mb-3">
                <div class="col-12 text-center">
                    <h2 class="section-title mb-3">Contact <span class="fst-italic">Me</span></h2>
                    <div class="section-divider"></div>
                </div>
            </div>
            <div class="row g-4 align-items-stretch">
                <div class="col-lg-3 col-md-6">
                    <a href="mailto:your.email@example.com" class="contact-card d-block h-100">
                        <div class="contact-icon-badge">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-card-body">
                            <h5 class="mb-1">Email</h5>
                            <small>your.email@example.com</small>
                        </div>
                    </a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <a href="#" target="_blank" rel="noopener" class="contact-card d-block h-100">
                        <div class="contact-icon-badge">
                            <i class="fab fa-github"></i>
                        </div>
                        <div class="contact-card-body">
                            <h5 class="mb-1">Github</h5>
                            <small>https://github.com/yourhandle</small>
                        </div>
                    </a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <a href="#" target="_blank" rel="noopener" class="contact-card d-block h-100">
                        <div class="contact-icon-badge">
                            <i class="fab fa-linkedin-in"></i>
                        </div>
                        <div class="contact-card-body">
                            <h5 class="mb-1">LinkedIn</h5>
                            <small>https://www.linkedin.com/in/yourname</small>
                        </div>
                    </a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <a href="tel:+917021186767" class="contact-card d-block h-100">
                        <div class="contact-icon-badge">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-card-body">
                            <h5 class="mb-1">Call</h5>
                            <small>+91 7021186767</small>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </section>-->

    <!-- Footer -->
    <footer class="footer py-4">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">&copy; 2024 Trijesh Kondapuram. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scrollToTop" class="scroll-to-top" title="Scroll to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- EmailJS SDK (client-side email sending) -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        // TODO: Replace with your actual EmailJS Public Key
        // Get it from https://dashboard.emailjs.com/admin/account
        // IMPORTANT: In EmailJS dashboard, add your site origin to Allowed Origins (e.g., http://localhost:5500 or your domain).
        // For local testing, open this file via a local server (VS Code Live Server or any static server), not file://.
        emailjs.init('NZI8lhuZ6g7NAt-77');
    </script>
    
    <!-- Custom JS -->
    <script>
        // Navbar background change on scroll
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Scroll to Top functionality
        const scrollToTopBtn = document.getElementById('scrollToTop');
        
        // Show/hide scroll to top button
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.classList.add('show');
            } else {
                scrollToTopBtn.classList.remove('show');
            }
        });
        
        // Scroll to top when button is clicked
        scrollToTopBtn.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Enhanced form validation and interaction
        const contactForm = document.getElementById('contactForm');
        const formInputs = contactForm.querySelectorAll('.form-control');

        // Real-time validation
        formInputs.forEach(input => {
            input.addEventListener('blur', validateField);
            input.addEventListener('input', clearError);
        });

        function validateField(e) {
            const field = e.target;
            const value = field.value.trim();
            
            // Remove existing classes
            field.classList.remove('is-valid', 'is-invalid');
            
            if (field.hasAttribute('required') && !value) {
                field.classList.add('is-invalid');
                return false;
            }
            
            if (field.type === 'email' && value) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(value)) {
                    field.classList.add('is-invalid');
                    return false;
                }
            }
            
            if (value) {
                field.classList.add('is-valid');
            }
            
            return true;
        }

        function clearError(e) {
            const field = e.target;
            if (field.classList.contains('is-invalid')) {
                field.classList.remove('is-invalid');
            }
        }

        // Enhanced form submission
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validate all fields
            let isValid = true;
            formInputs.forEach(input => {
                if (!validateField({ target: input })) {
                    isValid = false;
                }
            });
            
            if (!isValid) {
                return;
            }
            
            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Sending...';
            submitBtn.disabled = true;
            
            // Debug: log data to console to verify values being sent
            console.log('Sending contact form via EmailJS with data:', {
                name: contactForm.name.value,
                email: contactForm.email.value,
                subject: contactForm.subject.value,
                message: contactForm.message.value
            });
            
            // Send email via EmailJS
            // Configure your EmailJS service/template here:
            // 1) Create a Service and Template in EmailJS dashboard
            // 2) Replace 'YOUR_SERVICE_ID' and 'YOUR_TEMPLATE_ID' below
            // 3) Ensure your template fields map to: name, email, subject, message
            emailjs.sendForm('service_ntimupy', 'template_4qgcmgm', contactForm)
                .then(() => {
                    // Reset form
                    contactForm.reset();
                    formInputs.forEach(input => input.classList.remove('is-valid'));
                    // Success message
                    showSuccessMessage();
                })
                .catch((err) => {
                    console.error('EmailJS error:', err && (err.text || err));
                    const details = (err && (err.text || err.message)) ? ` Details: ${err.text || err.message}` : '';
                    showErrorMessage('Sorry, there was an issue sending your message.' + details + ' If this persists, email me directly at trijeshkondapuram1@gmail.com.');
                })
                .finally(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                });
        });

        function showSuccessMessage() {
            const successDiv = document.createElement('div');
            successDiv.className = 'alert alert-success mt-3';
            successDiv.innerHTML = '<i class="fas fa-check-circle me-2"></i>Thank you for your message! I\'ll get back to you soon.';
            
            const form = document.getElementById('contactForm');
            form.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.remove();
            }, 5000);
        }

        function showErrorMessage(msg) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'alert alert-danger mt-3';
            errorDiv.innerHTML = `<i class="fas fa-times-circle me-2"></i>${msg}`;
            const form = document.getElementById('contactForm');
            form.appendChild(errorDiv);
            setTimeout(() => { errorDiv.remove(); }, 7000);
        }

        // Enhanced social link interactions
        document.querySelectorAll('.social-link').forEach(link => {
            link.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-3px) scale(1.1)';
            });
            
            link.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });
    </script>
</body>
</html>
